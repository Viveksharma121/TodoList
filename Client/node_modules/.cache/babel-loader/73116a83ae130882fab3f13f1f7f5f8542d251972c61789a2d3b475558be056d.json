{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Asus/Desktop/JavaScriptProject/ClonedRepo/TodoList/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Asus/Desktop/JavaScriptProject/ClonedRepo/TodoList/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus/Desktop/JavaScriptProject/ClonedRepo/TodoList/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import axios from\"axios\";import\"./Log.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var history=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"https://todo-list-pl2e.vercel.app/login\",{email:email,password:password});case 3:response=_context.sent;data=response.data;if(!(data.status!==\"ok\"||!data.existinguser)){_context.next=8;break;}window.alert(\"Email does not exist or login failed. Please try again.\");return _context.abrupt(\"return\");case 8:if(data.existinguser){localStorage.setItem(\"token\",data.existinguser);history(\"/todo\");}else{alert(\"Please correct your email or password.\");}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Error during login:\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login Form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"Enter your email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Enter your password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register here\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsx","_jsx","jsxs","_jsxs","Login","history","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","post","sent","status","existinguser","window","alert","abrupt","localStorage","setItem","t0","console","error","stop","apply","arguments","className","children","htmlFor","type","id","placeholder","value","onChange","e","target","required","onClick","to"],"sources":["C:/Users/Asus/Desktop/JavaScriptProject/ClonedRepo/TodoList/Client/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./Log.css\";\r\n\r\nfunction Login() {\r\n  const history = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://todo-list-pl2e.vercel.app/login\",\r\n        {\r\n          email,\r\n          password,\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      if (data.status !== \"ok\" || !data.existinguser) {\r\n        window.alert(\"Email does not exist or login failed. Please try again.\");\r\n        return;\r\n      }\r\n\r\n      if (data.existinguser) {\r\n        localStorage.setItem(\"token\", data.existinguser);\r\n        history(\"/todo\");\r\n      } else {\r\n        alert(\"Please correct your email or password.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during login:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Login Form</h2>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          placeholder=\"Enter your email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"password\">Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Enter your password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <button onClick={handleLogin}>Login</button>\r\n      <p>\r\n        Don't have an account? <Link to=\"/register\">Register here</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}